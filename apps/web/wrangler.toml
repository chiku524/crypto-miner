# Cloudflare Workers configuration for VibeMiner
# Run: npx wrangler login (then create resources when you have a Cloudflare account)

name = "vibeminer"
main = ".open-next/worker.js"
compatibility_date = "2024-11-11"
compatibility_flags = ["nodejs_compat"]

[assets]
directory = ".open-next/assets"
binding = "ASSETS"

# D1 Database - replace database_id after: wrangler d1 create vibeminer-db
[[d1_databases]]
binding = "DB"
database_name = "vibeminer-db"
database_id = "YOUR_D1_DATABASE_ID"
# For local dev, wrangler will use a local D1 instance automatically

# KV Namespace - replace id after: wrangler kv namespace create SESSIONS
[[kv_namespaces]]
binding = "KV"
id = "YOUR_KV_NAMESPACE_ID"

# R2 Bucket - replace bucket_name after: wrangler r2 bucket create vibeminer-storage
[[r2_buckets]]
binding = "R2"
bucket_name = "vibeminer-storage"
